extends layouts/main.pug

block content 
  if errMessage
    span.errMessage #{errMessage}
  else 
    script. 
      const chatId = '!{chat._id}'
    


    .chatPageContainer
      .chatTitleBarContainer
        +createChatImage(chat, userLoggedIn)
        span#chatName(data-toggle="modal", data-target="#chatNameModal")

      .mainContentContainer 
        .loadingSpinnerContainer 
          img(src="/images/loadingSpinner.gif" alt="loading spinner")

        .chatContainer(style="visibility: hidden")
          ul.chatMessages

          .typingDots
            img(src="/images/dots.gif", alt="Typing dots")

          .footer 
            textarea.inputTextbox(name="messageInput", placeholder="Type a message...")
            button.sendMessageButton
              i.fas.fa-paper-plane 

  +chatNameModal(chat)

block script
  script(src="/js/chatPage.js") 